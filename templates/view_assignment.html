{% extends 'boilerplates/base_navbar.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %}Assignment{% endblock %}

{% block content %}
<div class="content-wrapper">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="col-lg-8">
              <div class="border-bottom text-center pb-4">
                <p> </p>
                {% if assignment.assignment_name %}
                <h2>{{ assignment.assignment_name }}</h2>
                {% else %}
                <h2>Empty Assignment Name</h2>
                {% endif %}
              </div>
              <div class="border-bottom text-center pb-4">
                <p> </p>
                <p3>
                  <b>Type:</b> {{ assignment.assignment_type }} &nbsp&nbsp&nbsp
                  <b>Submission:</b> {{ assignment.submission_type }}
                </p3>
                <p> </p>
                <p4>
                  <b>Total Score:</b> {{ assignment.total_score }} &nbsp&nbsp
                  <b>Weight:</b> {{ assignment.weight }} &nbsp&nbsp
                  <b>Due:</b> {{ assignment.date_due }}
                </p4>
              </div>
              <div class="border-bottom pb-4">
                <p> </p>
                <p3>
                  <b>Description:</b>
                  <p>{{ assignment.description|linebreaksbr }}</p>
                </p3>
              </div>
              <p> </p>
              <a href="{% url 'assignment' course_id %}"><button type="button"
                  class="btn btn-outline-primary">Back</button></a>
              {% if userRole == 'Student'%}
              <a href="{% url 'artifact' course_id assignment.id%}"><button type="button"
                class="btn btn-outline-primary">Upload Artifact</button></a>
              {% endif %}
              {% if userRole == 'Instructor' or userRole == 'TA'%}
              <a href="{% url 'artifact_admin' course_id assignment.id%}"><button type="button"
                class="btn btn-outline-primary">Artifact Admin</button></a>
              {% endif %}
            </div>
            <div class="col-lg-4">
              {% if latest_artifact != 'None' %}
                <div class="border-bottom py-4">
                  <p><b>Submission:</b></p>
                  <p> Latest Submission: {{ latest_artifact.upload_time }}</p>
                  <a href="{% url 'download_artifact' course_id assignment_id artifact_id%}"><button type="button"
                    class="btn btn-success btn-sm">Download</button></a>
                </div>
              {% else %}
                <div class="border-bottom py-4">
                  <p><b>Submission:</b></p>
                  <p> No Submission found</p>
                </div>
              {% endif %}
              {% comment %} <div class="border-bottom py-4">
                <a href="{% url 'test'%}"><button type="button"
                  class="btn btn-success btn-sm">Survey</button></a>
              </div> {% endcomment %}
              <div class="border-bottom py-4">
                <p><b>Comments: </b></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}